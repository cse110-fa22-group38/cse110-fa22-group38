<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Quarter View</title>

	<!--Template Object Linking-->
	<script src="/templates.js"></script>
	<link rel="stylesheet" href="/templatestyle.css">
	<link rel="stylesheet" href="/navbar.css">
	
	<!--Font Linking-->
	<link rel="preconnect" href="https://fonts.googleapis.com"> 
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
	
</head>
<body style = "background-color:black;">
	
	<br/>
	
	<table class="table" align="center" cellspacing="21" cellpadding="21">
	<caption align="top">
	</caption>
	
	<thead>
		<tr>
			<th class="weekday">Week #</th>
			<th class="weekday">Sun</th>
			<th class="weekday">Mon</th>
			<th class="weekday">Tue</th>
			<th class="weekday">Wed</th>
			<th class="weekday">Thu</th>
			<th class="weekday">Fri</th>
			<th class="weekday">Sat</th>
		</tr>
	</thead>
	
	<tbody class="calendar">
		
	</tbody>
</table>
</body>
<header>
	<div class="navcontainer">
		<nav>
			<ul>
			  <li><img src="/favicon.ico" alt="logo" class="logo"></li>
				<li><a href="/quarter">Quarter</a></li>
				<li><a href="/week">Weekly</a></li>
				<li><a href="/today">Daily</a></li>
				<li><a href="/settings">Settings</a></li>
				<li><a href="/add">Add</a></li>
			</ul>
		</nav>
	</div>
  </header>
<script>

window.addEventListener('DOMContentLoaded', init);
function init() {

	let quarter = {
		start: "2022-09-22T00:00:00",
		end: "2022-12-10T00:00:00"
	};
	
	let qstart = new Date(quarter.start);
	let qend = new Date(quarter.end);
	
	let currdate = qstart;
	let calendar = document.querySelector(".calendar");
	
	let numweek = 1
	let week = document.createElement("tr");
	
	if (qstart.getDay() == 4) {
		//if we start on a thursday there is a week 0"
		numweek = 0;
	}
	
	
	// set up first week (becuase it is specail :) )
	let weeknum = document.createElement("td");
	weeknum.innerHTML = `${numweek}`;
	weeknum.classList.add("week-number");
	week.appendChild(weeknum);
	numweek++;
	
	for (let i = 0; i < currdate.getDay(); i++) {
		week.appendChild(document.createElement("td"));
		console.log("this thing ran lol");
		calendar.appendChild(week);
	}
	let i = 0;
	/*Putting elements in calendar happens here:*/
	
	
	while (currdate <= qend) {
		//make a new week if we are on a sunday beucase sunday is the first day of the week
		if(currdate.getDay() == 0) {
			week = document.createElement("tr");
			calendar.appendChild(week);
			
			let weeknum = document.createElement("td");
			weeknum.innerHTML = `${numweek}`;
			weeknum.classList.add("week-number");
			numweek++;
			week.appendChild(weeknum)
		}
		let day = document.createElement("td");
		
		
		/*Stuff in the boxes goes here:*/
		//let events = Databaseething.getByDate(currday.toISOString);
		
		day.innerHTML = `
		<div class="date-value">${currdate.getDate()}</div>
		
		`;
		day.classList.add("day-container");
		day.classList.add(currdate.toISOString())
		
		let eventcontainer = document.createElement("div");
		eventcontainer.classList.add("event-container");
		

		let taskcontainer = document.createElement("div");
		taskcontainer.classList.add("task-container");
		

		//for each event in eventsfromdatabase {add the event to the box in some clever way}
		//for each task in eventsfromdatabase {add the event to the box in some clever way}
		
		day.appendChild(eventcontainer);
		day.appendChild(taskcontainer);
		
		console.log(currdate.toISOString());
		week.appendChild(day);
		currdate.setDate(currdate.getDate() + 1);
		i++;
	}

}

</script>

<style>
	* {
		font-family: IBM Plex Sans;
		font-weight: 400;
	}

	body {
		margin-top: 80px;
	}

	.task-container {
		display: flex;
		flex-direction: row;

	}
	.event-container {
		display: flex;
		flex-direction: row;

	}
	.day-container {
		background-color:#1F1F1F;
		border-radius: 20px;
		color: white;
		font-weight: 800;
		height: 50px;
		width: 50px;
		text-align: left;
		position: relative;
	}

	.date-value {
		position: absolute;
		top: 10px;
		left: 10px;
	}

	.table {
		background-color: #000000;
	}
	
	.weekday {
		color: white;
		text-align: center;
	}
	
	.week-number {
		color: white;
		text-align: center;
	}

</style>
</html>

